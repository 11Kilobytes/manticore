(*0xFFFFFFFFFFFFFFFE*)
#define STAMP_BITS (18446744073709551614:long)

(*TVAR fields*)
#define REF_COUNT     3
#define PREV_LOCK     2
#define CURRENT_LOCK  1
#define TVAR_CONTENTS 0

(*read set fields*)
#define KCOUNT     0
#define LONG_PATH  1
#define SHORT_PATH 2
#define TAIL       3

(*WithK fields (WithK of 'a * 'a * 'a * 'a * 'a)*)
#define R_ENTRY_TAG   0
#define R_ENTRY_TVAR  1
#define R_ENTRY_NEXT  2
#define R_ENTRY_K     3
#define R_ENTRY_WS    4
#define R_ENTRY_NEXTK 5

(*fast forward read set*)
#define FF_RS_STAMP  0
#define FF_RS_END    1

(*STAMP RECORD*)
#define THREAD_ID     3
#define CURRENT_STAMP 0
#define OLD_STAMP     2

#define UNBOX 0

#define LOCKED(x) I64Eq(I64AndB(x, 1:long), 1:long)