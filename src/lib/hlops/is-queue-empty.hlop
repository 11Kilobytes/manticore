#include "runtime-offsets.def"
#include "types.def"

define @is-queue-empty (/ exh : exh) : bool =
  let vp : vproc = host_vproc
  let hd : rdyq_item = vpload (VP_RDYQ_HD, vp)
  case hd of 
     QITEM (_, _, _) =>
       return (FALSE)
   | QEMPTY =>
       (* TODO: check secondary queue *)
       return (TRUE)
  end
;
