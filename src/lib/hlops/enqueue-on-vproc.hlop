(* enqueue-on-vproc.hlop
 *
 * COPYRIGHT (c) 2007 The Manticore Project (http://manticore.cs.uchicago.edu)
 * All rights reserved.
 * 
 * Enqueue a thread on a remote vproc.
 *)

extern void EnqueueOnVProc (void *, void *, void *, void *) __attribute__((alloc));

(* NOTE: we should take promotion out fo EnqueueOnVProc and make it a HLOP *)
define inline @enqueue-on-vproc (dst : vproc, tid : tid, k : fiber / exh : exh) : () =
  do ccall EnqueueOnVProc(host_vproc, dst, tid, k)
  return ()
;
