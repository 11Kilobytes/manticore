(* get-fgs.hlop
 *
 * COPYRIGHT (c) 2007 The Manticore Project (http://manticore.cs.uchicago.edu)
 * All rights reserved.
 *
 * Get the current fiber group.
 *)

#include "runtime-offsets.def"
#include "types.def"
#include "../basis/assert.hlop"

define @get-fgs (vp : vproc / exh : exh) : fgs =
  let fgs : fgs = vpload (CURRENT_FG, vp)
  do assert(NotEqual (fgs, NIL))
  return (fgs)
;
